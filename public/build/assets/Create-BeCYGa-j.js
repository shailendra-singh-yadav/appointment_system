import{u as V,x as B,c as E,o as n,w as f,a as o,b as p,d as r,e as d,f as t,v as b,t as u,F as T,r as U}from"./app-BaX4SUui.js";import{_ as A}from"./AuthenticatedLayout-BBK8sQzv.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";const G={class:"text-2xl font-semibold text-gray-800"},N={class:"max-w-3xl mx-auto p-6 space-y-6"},j={class:"bg-white shadow rounded-lg p-6"},F={class:"mb-4"},O={key:0,class:"text-red-600 text-sm"},S={class:"mb-4"},M={key:0,class:"text-red-600 text-sm"},$={class:"mb-4"},L={key:0,class:"text-red-600 text-sm"},P={class:"mb-6"},W=["onUpdate:modelValue"],q=["onClick"],z={key:0,class:"text-red-600 text-sm mt-1"},H={class:"text-right"},I=["disabled"],R={__name:"Create",props:{appointment:Object},setup(k){var x,y,g;const c=V(),l=k,e=B({title:((x=l==null?void 0:l.appointment)==null?void 0:x.title)||"",description:(y=l==null?void 0:l.appointment)==null?void 0:y.description,date:(g=l==null?void 0:l.appointment)==null?void 0:g.date,guests:[""]}),h=()=>e.guests.push(""),v=i=>e.guests.splice(i,1),w=l.appointment?"Edit":"Create";function C(i){const s=new Date(i);return!isNaN(s)&&s.getDay()>0&&s.getDay()<6}async function D(){if(!C(e.date)){c.error("Please select a valid date (Monday to Friday only).");return}try{await e.post("/appointments",{preserveScroll:!0}),c.success("Appointment booked and invitations sent!")}catch{Object.values(e.errors).length?c.error(Object.values(e.errors)[0]):c.error("Something went wrong, please try again.")}}return(i,s)=>(n(),E(A,null,{header:f(()=>[o("h2",G,u(t(w))+" Appointment",1)]),default:f(()=>[o("div",N,[o("div",j,[o("div",F,[s[3]||(s[3]=o("label",{class:"block text-sm font-medium mb-1"},"Title",-1)),p(o("input",{"onUpdate:modelValue":s[0]||(s[0]=a=>t(e).title=a),type:"text",class:"w-full border rounded px-3 py-2",placeholder:"Enter title"},null,512),[[b,t(e).title]]),t(e).errors.title?(n(),r("p",O,u(t(e).errors.title),1)):d("",!0)]),o("div",S,[s[4]||(s[4]=o("label",{class:"block text-sm font-medium mb-1"},"Description",-1)),p(o("textarea",{"onUpdate:modelValue":s[1]||(s[1]=a=>t(e).description=a),rows:"3",class:"w-full border rounded px-3 py-2",placeholder:"Enter description"},null,512),[[b,t(e).description]]),t(e).errors.description?(n(),r("p",M,u(t(e).errors.description),1)):d("",!0)]),o("div",$,[s[5]||(s[5]=o("label",{class:"block text-sm font-medium mb-1"},"Date & Time",-1)),p(o("input",{"onUpdate:modelValue":s[2]||(s[2]=a=>t(e).date=a),type:"datetime-local",class:"w-full border rounded px-3 py-2"},null,512),[[b,t(e).date]]),t(e).errors.date?(n(),r("p",L,u(t(e).errors.date),1)):d("",!0)]),o("div",P,[s[6]||(s[6]=o("label",{class:"block font-medium mb-2"},"Guest Emails",-1)),(n(!0),r(T,null,U(t(e).guests,(a,m)=>(n(),r("div",{key:m,class:"flex items-center space-x-2 mb-2"},[p(o("input",{"onUpdate:modelValue":_=>t(e).guests[m]=_,type:"email",placeholder:"guest@example.com",class:"flex-1 border rounded px-3 py-2"},null,8,W),[[b,t(e).guests[m]]]),t(e).guests.length>1?(n(),r("button",{key:0,type:"button",onClick:_=>v(m),class:"text-red-500 text-lg leading-none"},"Ã—",8,q)):d("",!0)]))),128)),o("button",{type:"button",onClick:h,class:"text-blue-600"}," + Add Guest "),t(e).errors.guests?(n(),r("p",z,u(t(e).errors.guests),1)):d("",!0)]),o("div",H,[o("button",{disabled:t(e).processing,onClick:D,class:"bg-blue-600 hover:bg-blue-700 text-white px-6 py-2 rounded disabled:opacity-50"}," Book Appointment ",8,I)])])])]),_:1}))}};export{R as default};
